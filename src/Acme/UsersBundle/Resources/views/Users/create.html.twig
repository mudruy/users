{% extends 'AcmeUsersBundle::index.html.twig' %}

{% block title %}Create{% endblock %}
{% block content %}
    
    
    <section class="content">
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-3">
            <div class="box box-primary">
                {% for flash_message in app.session.flashbag.get('notice') %}
                <div class="callout callout-info lead alert-success">
                    {{ flash_message }}
                </div>
                {% endfor %}
                <div class="box-header with-border">
                    <h3 class="box-title">Create user</h3>
                </div>
                <form class="well form-horizontal" action="{{ path('acme_users_create')}}" method="post" {{ form_enctype(form) }}>
                    {{ form_errors(form) }}
                    <div class="box-body">
                        <div class="form-group {% if form.user.name.vars.valid==false %}has-error{% endif %}">
                            {{ form_label(form.user.name, 'Username', {'label_attr': {'class': 'control-label'}}) }}
                            <div class="controls">
                                {{form_widget(form.user.name, { 'attr': {'class': 'form-control'} })}}
                                {% if form.user.name.vars.valid==false %}
                                    <div class="help-block">
                                        {{ form_errors(form.user.name) }}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="form-group {% if form.user.password.vars.valid==false %}has-error{% endif %}">
                            {{ form_label(form.user.password, 'Password', {'label_attr': {'class': 'control-label'}}) }}
                            <div class="controls">
                                {{form_widget(form.user.password.password, { 'attr': {'class': 'form-control'} })}}
                                {% if form.user.password.password.vars.valid==false %}
                                    <div class="help-block">
                                        {{ form_errors(form.user.password.password) }}
                                    </div>
                                {% endif %}
                                <br />
                                {{form_widget(form.user.password.confirm, { 'attr': {'class': 'form-control'} })}}
                                {% if form.user.password.confirm.vars.valid==false %}
                                    <div class="help-block">
                                        {{ form_errors(form.user.password.confirm) }}
                                    </div>
                                {% endif %}
                                
                            </div>
                        </div>
                        <div class="form-group {% if form.user.roles.vars.valid==false %}has-error{% endif %}">
                            {{ form_label(form.user.roles, 'Roles', {'label_attr': {'class': 'control-label'}}) }}
                            <div class="controls">
                                {{form_widget(form.user.roles)}}
                                {% if form.user.roles.vars.valid==false %}
                                    <div class="help-block">
                                        {{ form_errors(form.user.roles) }}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        {{ form_rest(form) }}
                        </div>
                        <div class="box-footer">
                        <input type="submit" class="btn btn-primary" />
                        </div>
                </form>
            </div>
            </div>
        </div>
    </section>

{% endblock %}