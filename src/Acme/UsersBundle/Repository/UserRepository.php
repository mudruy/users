<?php

namespace Acme\UsersBundle\Repository;

use Doctrine\ODM\MongoDB\DocumentRepository;

/**
 * UserRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class UserRepository extends DocumentRepository
{
    /**
     *  get all users ordered by name
     * @return mixed
     */
    public function findAllOrderedByName()
    {
        return $this->createQueryBuilder()
            ->sort('name', 'ASC')
            ->getQuery()
            ->execute();
    }
    
    /**
     * return user for edit
     * @param string $id
     * @return User
     */
    public function findUserById($id)
    {
        return $this->createQueryBuilder()
            ->field('id')->equals($id)
            ->getQuery()
            ->getSingleResult();
    }
    
    /**
     * return user for auth
     * @param string $name
     * @return User
     */
    public function findUserByName($name)
    {
        return $this->createQueryBuilder()
            ->field('name')->equals($name)
            ->getQuery()
            ->getSingleResult();
    }
    
    
}